import{g as p}from"./index.DQoaeX7X.js";function u(r,e,s){return e<=r&&r<=s}function F(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function g(r){for(var e=String(r),s=e.length,t=0,i=[];t<s;){var n=e.charCodeAt(t);if(n<55296||n>57343)i.push(n);else if(56320<=n&&n<=57343)i.push(65533);else if(55296<=n&&n<=56319)if(t===s-1)i.push(65533);else{var f=r.charCodeAt(t+1);if(56320<=f&&f<=57343){var y=n&1023,a=f&1023;i.push(65536+(y<<10)+a),t+=1}else i.push(65533)}t+=1}return i}function m(r){for(var e="",s=0;s<r.length;++s){var t=r[s];t<=65535?e+=String.fromCharCode(t):(t-=65536,e+=String.fromCharCode((t>>10)+55296,(t&1023)+56320))}return e}var l=-1;function _(r){this.tokens=[].slice.call(r)}_.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():l},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var h=-1;function c(r,e){if(r)throw TypeError("Decoder error");return e||65533}var o="utf-8";function d(r,e){if(!(this instanceof d))return new d(r,e);if(r=r!==void 0?String(r).toLowerCase():o,r!==o)throw new Error("Encoding not supported. Only utf-8 is supported");e=F(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}d.prototype={decode:function(e,s){var t;typeof e=="object"&&e instanceof ArrayBuffer?t=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):t=new Uint8Array(0),s=F(s),this._streaming||(this._decoder=new w({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!s.stream;for(var i=new _(t),n=[],f;!i.endOfStream()&&(f=this._decoder.handler(i,i.read()),f!==h);)f!==null&&(Array.isArray(f)?n.push.apply(n,f):n.push(f));if(!this._streaming){do{if(f=this._decoder.handler(i,i.read()),f===h)break;f!==null&&(Array.isArray(f)?n.push.apply(n,f):n.push(f))}while(!i.endOfStream());this._decoder=null}return n.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(n[0]===65279?(this._BOMseen=!0,n.shift()):this._BOMseen=!0),m(n)}};function x(r,e){if(!(this instanceof x))return new x(r,e);if(r=r!==void 0?String(r).toLowerCase():o,r!==o)throw new Error("Encoding not supported. Only utf-8 is supported");e=F(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}x.prototype={encode:function(e,s){e=e?String(e):"",s=F(s),this._streaming||(this._encoder=new O(this._options)),this._streaming=!!s.stream;for(var t=[],i=new _(g(e)),n;!i.endOfStream()&&(n=this._encoder.handler(i,i.read()),n!==h);)Array.isArray(n)?t.push.apply(t,n):t.push(n);if(!this._streaming){for(;n=this._encoder.handler(i,i.read()),n!==h;)Array.isArray(n)?t.push.apply(t,n):t.push(n);this._encoder=null}return new Uint8Array(t)}};function w(r){var e=r.fatal,s=0,t=0,i=0,n=128,f=191;this.handler=function(y,a){if(a===l&&i!==0)return i=0,c(e);if(a===l)return h;if(i===0){if(u(a,0,127))return a;if(u(a,194,223))i=1,s=a-192;else if(u(a,224,239))a===224&&(n=160),a===237&&(f=159),i=2,s=a-224;else if(u(a,240,244))a===240&&(n=144),a===244&&(f=143),i=3,s=a-240;else return c(e);return s=s<<6*i,null}if(!u(a,n,f))return s=i=t=0,n=128,f=191,y.prepend(a),c(e);if(n=128,f=191,t+=1,s+=a-128<<6*(i-t),t!==i)return null;var v=s;return s=i=t=0,v}}function O(r){r.fatal,this.handler=function(e,s){if(s===l)return h;if(u(s,0,127))return s;var t,i;u(s,128,2047)?(t=1,i=192):u(s,2048,65535)?(t=2,i=224):u(s,65536,1114111)&&(t=3,i=240);for(var n=[(s>>6*t)+i];t>0;){var f=s>>6*(t-1);n.push(128|f&63),t-=1}return n}}const A=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:d,TextEncoder:x},Symbol.toStringTag,{value:"Module"})),B=p(A);export{B as r};
