import{s as z,C as le,e as k,a as F,c as y,b as N,g as x,f as h,m as w,G as D,i as B,h as v,D as re,E as ie,F as oe,H as G,I as J,n as M,t as q,l as Y,d as V,j as te,k as ce}from"../chunks/scheduler.BRD139ic.js";import{S as K,i as L,g as Q,t as $,c as R,a as d,b as C,d as S,m as P,e as E}from"../chunks/index.B85w7t3t.js";import{a as ue}from"../chunks/modal.8CnWjIk4.js";import{C as X,m as fe,b as me,d as he,P as pe}from"../chunks/TxSnackbar.svelte_svelte_type_style_lang.DrrwYycT.js";function de(s){let e,t;return e=new X({props:{tag:"svg",viewBox:"0 0 24 24",style:`min-height: ${b};max-height: ${b};min-width: ${b};max-width: ${b};`,$$slots:{default:[ge]},$$scope:{ctx:s}}}),{c(){C(e.$$.fragment)},l(n){S(e.$$.fragment,n)},m(n,a){P(e,n,a),t=!0},p(n,a){const l={};a&4&&(l.$$scope={dirty:a,ctx:n}),e.$set(l)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function $e(s){let e,t;return e=new X({props:{tag:"svg",viewBox:"0 0 24 24",style:`min-height: ${b};max-height: ${b};min-width: ${b};max-width: ${b};`,$$slots:{default:[ve]},$$scope:{ctx:s}}}),{c(){C(e.$$.fragment)},l(n){S(e.$$.fragment,n)},m(n,a){P(e,n,a),t=!0},p(n,a){const l={};a&4&&(l.$$scope={dirty:a,ctx:n}),e.$set(l)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function _e(s){let e,t;return e=new X({props:{tag:"svg",viewBox:"0 0 24 24",style:`min-height: ${b};max-height: ${b};min-width: ${b};max-width: ${b};`,$$slots:{default:[be]},$$scope:{ctx:s}}}),{c(){C(e.$$.fragment)},l(n){S(e.$$.fragment,n)},m(n,a){P(e,n,a),t=!0},p(n,a){const l={};a&4&&(l.$$scope={dirty:a,ctx:n}),e.$set(l)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function ge(s){let e;return{c(){e=G("path"),this.h()},l(t){e=J(t,"path",{fill:!0,d:!0}),N(e).forEach(h),this.h()},h(){w(e,"fill","var(--color-info)"),w(e,"d",fe)},m(t,n){B(t,e,n)},p:M,d(t){t&&h(e)}}}function ve(s){let e;return{c(){e=G("path"),this.h()},l(t){e=J(t,"path",{fill:!0,d:!0}),N(e).forEach(h),this.h()},h(){w(e,"fill","var(--color-warn)"),w(e,"d",me)},m(t,n){B(t,e,n)},p:M,d(t){t&&h(e)}}}function be(s){let e;return{c(){e=G("path"),this.h()},l(t){e=J(t,"path",{fill:!0,d:!0}),N(e).forEach(h),this.h()},h(){w(e,"fill","var(--color-err)"),w(e,"d",he)},m(t,n){B(t,e,n)},p:M,d(t){t&&h(e)}}}function we(s){let e,t,n,a,l;const i=[_e,$e,de],f=[];function I(r,o){return r[0]==="error"?0:r[0]==="warning"?1:r[0]==="info"?2:-1}~(t=I(s))&&(n=f[t]=i[t](s));const c=s[1].default,u=le(c,s,s[2],null);return{c(){e=k("p"),n&&n.c(),a=F(),u&&u.c(),this.h()},l(r){e=y(r,"P",{class:!0});var o=N(e);n&&n.l(o),a=x(o),u&&u.l(o),o.forEach(h),this.h()},h(){w(e,"class","svelte-l67a9l"),D(e,"error",s[0]==="error"),D(e,"warning",s[0]==="warning"),D(e,"info",s[0]==="info")},m(r,o){B(r,e,o),~t&&f[t].m(e,null),v(e,a),u&&u.m(e,null),l=!0},p(r,[o]){let _=t;t=I(r),t===_?~t&&f[t].p(r,o):(n&&(Q(),$(f[_],1,1,()=>{f[_]=null}),R()),~t?(n=f[t],n?n.p(r,o):(n=f[t]=i[t](r),n.c()),d(n,1),n.m(e,a)):n=null),u&&u.p&&(!l||o&4)&&re(u,c,r,r[2],l?oe(c,r[2],o,null):ie(r[2]),null),(!l||o&1)&&D(e,"error",r[0]==="error"),(!l||o&1)&&D(e,"warning",r[0]==="warning"),(!l||o&1)&&D(e,"info",r[0]==="info")},i(r){l||(d(n),d(u,r),l=!0)},o(r){$(n),$(u,r),l=!1},d(r){r&&h(e),~t&&f[t].d(),u&&u.d(r)}}}const b="1.6rem";function Ie(s,e,t){let{$$slots:n={},$$scope:a}=e,{type:l="info"}=e;return s.$$set=i=>{"type"in i&&t(0,l=i.type),"$$scope"in i&&t(2,a=i.$$scope)},[l,n,a]}class se extends K{constructor(e){super(),L(this,e,Ie,we,z,{type:0})}}var Be=Object.defineProperty,ke=(s,e,t)=>e in s?Be(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,ne=(s,e,t)=>(ke(s,typeof e!="symbol"?e+"":e,t),t);class H{constructor(e,t=0){ne(this,"value"),ne(this,"defaultFormatOptions"),this._decimals=t,typeof e=="string"?this.value=BigInt(e):typeof e=="bigint"?this.value=e:this.value=BigInt(0),this.defaultFormatOptions={maximumSignificantDigits:6,minimumFractionDigits:0,maximumFractionDigits:Math.min(this._decimals,20)}}get decimals(){return this._decimals}set decimals(e){this._decimals=e}clone(){return new H(this.value,this.decimals)}add(e){const t=this.decimals-e.decimals;let n;t>0?n=e.value*BigInt(10)**BigInt(t):t<0?n=e.value/BigInt(10)**BigInt(-t):n=e.value;const a=this.clone();return a.value+=n,a}sub(e){const t=this.decimals-e.decimals;let n;t>0?n=e.value*BigInt(10)**BigInt(t):t<0?n=e.value/BigInt(10)**BigInt(-t):n=e.value;const a=this.clone();return a.value-=n,a}mul(e){const t=this.clone();return t.value*=e.value,t.value/=BigInt(10)**BigInt(e.decimals),t}div(e){const t=this.decimals-e.decimals;let n;t>0?n=e.value*BigInt(10)**BigInt(t):t<0?n=e.value/BigInt(10)**BigInt(-t):n=e.value;const a=this.clone();return a.value*=BigInt(10)**BigInt(this.decimals),a.value/=n,a}format(e){return new Intl.NumberFormat("en-US",Object.assign({},this.defaultFormatOptions,e??{})).format(this.formatNumber())}formatNumber(){const e=this.value<0;let t=this.value.toString();e&&(t=t.substring(1));const n=t.length-this.decimals;return n>=0?t=t.slice(0,n)+"."+t.slice(n):t="."+"0".repeat(-n)+t,t=t.replace(/0+$/,"").replace(/^0+/,""),t==="."?t="0":t.startsWith(".")?t="0"+t:t.endsWith(".")&&(t=t.slice(0,-1)),(e?"-":"")+t}toNumber(){return Number(this.value)/10**this.decimals}toString(){return this.format()}toBigInt(){return this.value}toU128(){return this.value.toString()}valueOf(){return this.value}}function ae(s){let e,t;return e=new se({props:{type:"warning",$$slots:{default:[ye]},$$scope:{ctx:s}}}),{c(){C(e.$$.fragment)},l(n){S(e.$$.fragment,n)},m(n,a){P(e,n,a),t=!0},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function ye(s){let e;return{c(){e=q(`Your Near balance is low! Please top up your Near balance to not run out
      of gas.`)},l(t){e=V(t,`Your Near balance is low! Please top up your Near balance to not run out
      of gas.`)},m(t,n){B(t,e,n)},d(t){t&&h(e)}}}function Ne(s){let e,t,n="Connected account:",a,l,i=s[0].accountId+"",f,I,c,u,r="Near balance:",o,_,A=(s[1]?s[1].format():"-")+"",W,T,U=s[1]!=null&&s[1].toNumber()<.5,O,m=U&&ae(s);return{c(){e=k("div"),t=k("span"),t.textContent=n,a=F(),l=k("span"),f=q(i),I=F(),c=k("div"),u=k("span"),u.textContent=r,o=F(),_=k("span"),W=q(A),T=F(),m&&m.c(),this.h()},l(p){e=y(p,"DIV",{class:!0});var g=N(e);t=y(g,"SPAN",{"data-svelte-h":!0}),Y(t)!=="svelte-fsvay8"&&(t.textContent=n),a=x(g),l=y(g,"SPAN",{});var Z=N(l);f=V(Z,i),Z.forEach(h),g.forEach(h),I=x(p),c=y(p,"DIV",{class:!0});var j=N(c);u=y(j,"SPAN",{"data-svelte-h":!0}),Y(u)!=="svelte-1syjy1u"&&(u.textContent=r),o=x(j),_=y(j,"SPAN",{});var ee=N(_);W=V(ee,A),ee.forEach(h),T=x(j),m&&m.l(j),j.forEach(h),this.h()},h(){w(e,"class","section-field"),w(c,"class","section-field")},m(p,g){B(p,e,g),v(e,t),v(e,a),v(e,l),v(l,f),B(p,I,g),B(p,c,g),v(c,u),v(c,o),v(c,_),v(_,W),v(c,T),m&&m.m(c,null),O=!0},p(p,[g]){(!O||g&1)&&i!==(i=p[0].accountId+"")&&te(f,i),(!O||g&2)&&A!==(A=(p[1]?p[1].format():"-")+"")&&te(W,A),g&2&&(U=p[1]!=null&&p[1].toNumber()<.5),U?m?g&2&&d(m,1):(m=ae(p),m.c(),d(m,1),m.m(c,null)):m&&(Q(),$(m,1,1,()=>{m=null}),R())},i(p){O||(d(m),O=!0)},o(p){$(m),O=!1},d(p){p&&(h(e),h(I),h(c)),m&&m.d()}}}function Ce(s,e,t){let{account:n}=e,a;l();async function l(){const f=await(await fetch("https://near.lava.build/lava-referer-ccbfe99b-d205-4d9d-9b6e-e919d474e9c0",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:"dontcare",method:"query",params:{request_type:"view_account",finality:"final",account_id:n.accountId}})})).json();f.result&&t(1,a=new H(f.result.amount,24).sub(new H(f.result.locked,24)))}return s.$$set=i=>{"account"in i&&t(0,n=i.account)},[n,a]}class Se extends K{constructor(e){super(),L(this,e,Ce,Ne,z,{account:0})}}function Pe(s){let e,t;return e=new se({props:{type:"info",$$slots:{default:[je]},$$scope:{ctx:s}}}),{c(){C(e.$$.fragment)},l(n){S(e.$$.fragment,n)},m(n,a){P(e,n,a),t=!0},p(n,a){const l={};a&2&&(l.$$scope={dirty:a,ctx:n}),e.$set(l)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function Ee(s){let e,t;return e=new pe({props:{inline:!0}}),{c(){C(e.$$.fragment)},l(n){S(e.$$.fragment,n)},m(n,a){P(e,n,a),t=!0},p:M,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function Oe(s){let e,t;return e=new Se({props:{account:s[0]}}),{c(){C(e.$$.fragment)},l(n){S(e.$$.fragment,n)},m(n,a){P(e,n,a),t=!0},p(n,a){const l={};a&1&&(l.account=n[0]),e.$set(l)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function je(s){let e;return{c(){e=q("Please log in!")},l(t){e=V(t,"Please log in!")},m(t,n){B(t,e,n)},d(t){t&&h(e)}}}function De(s){let e,t,n="Wallet",a,l,i,f;const I=[Oe,Ee,Pe],c=[];function u(r,o){return r[0]?0:r[0]===void 0?1:2}return l=u(s),i=c[l]=I[l](s),{c(){e=k("div"),t=k("h2"),t.textContent=n,a=F(),i.c(),this.h()},l(r){e=y(r,"DIV",{class:!0});var o=N(e);t=y(o,"H2",{class:!0,"data-svelte-h":!0}),Y(t)!=="svelte-14vu7n3"&&(t.textContent=n),a=x(o),i.l(o),o.forEach(h),this.h()},h(){w(t,"class","svelte-nil46c"),w(e,"class","page svelte-nil46c")},m(r,o){B(r,e,o),v(e,t),v(e,a),c[l].m(e,null),f=!0},p(r,[o]){let _=l;l=u(r),l===_?c[l].p(r,o):(Q(),$(c[_],1,1,()=>{c[_]=null}),R(),i=c[l],i?i.p(r,o):(i=c[l]=I[l](r),i.c()),d(i,1),i.m(e,null))},i(r){f||(d(i),f=!0)},o(r){$(i),f=!1},d(r){r&&h(e),c[l].d()}}}function Fe(s,e,t){let n;return ce(s,ue,a=>t(0,n=a)),[n]}class Ve extends K{constructor(e){super(),L(this,e,Fe,De,z,{})}}export{Ve as component};
