import{s as L,C as le,e as k,a as A,c as y,b as N,g as F,f as h,m as w,G as j,i as B,h as v,D as re,E as ie,F as oe,H as Y,I as z,n as q,t as R,l as H,d as U,j as te,k as ce}from"../chunks/scheduler.BRD139ic.js";import{S as G,i as J,g as K,t as $,c as Q,a as _,b as S,d as C,m as E,e as P}from"../chunks/index.B85w7t3t.js";import{a as ue}from"../chunks/modal.CqwZ4417.js";import{C as X,m as fe,b as me,d as he,P as pe}from"../chunks/TxSnackbar.svelte_svelte_type_style_lang.SBUzlTOL.js";function _e(s){let e,t;return e=new X({props:{tag:"svg",viewBox:"0 0 24 24",style:`min-height: ${b};max-height: ${b};min-width: ${b};max-width: ${b};`,$$slots:{default:[ge]},$$scope:{ctx:s}}}),{c(){S(e.$$.fragment)},l(n){C(e.$$.fragment,n)},m(n,a){E(e,n,a),t=!0},p(n,a){const l={};a&4&&(l.$$scope={dirty:a,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function $e(s){let e,t;return e=new X({props:{tag:"svg",viewBox:"0 0 24 24",style:`min-height: ${b};max-height: ${b};min-width: ${b};max-width: ${b};`,$$slots:{default:[ve]},$$scope:{ctx:s}}}),{c(){S(e.$$.fragment)},l(n){C(e.$$.fragment,n)},m(n,a){E(e,n,a),t=!0},p(n,a){const l={};a&4&&(l.$$scope={dirty:a,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function de(s){let e,t;return e=new X({props:{tag:"svg",viewBox:"0 0 24 24",style:`min-height: ${b};max-height: ${b};min-width: ${b};max-width: ${b};`,$$slots:{default:[be]},$$scope:{ctx:s}}}),{c(){S(e.$$.fragment)},l(n){C(e.$$.fragment,n)},m(n,a){E(e,n,a),t=!0},p(n,a){const l={};a&4&&(l.$$scope={dirty:a,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function ge(s){let e;return{c(){e=Y("path"),this.h()},l(t){e=z(t,"path",{fill:!0,d:!0}),N(e).forEach(h),this.h()},h(){w(e,"fill","var(--color-info)"),w(e,"d",fe)},m(t,n){B(t,e,n)},p:q,d(t){t&&h(e)}}}function ve(s){let e;return{c(){e=Y("path"),this.h()},l(t){e=z(t,"path",{fill:!0,d:!0}),N(e).forEach(h),this.h()},h(){w(e,"fill","var(--color-warn)"),w(e,"d",me)},m(t,n){B(t,e,n)},p:q,d(t){t&&h(e)}}}function be(s){let e;return{c(){e=Y("path"),this.h()},l(t){e=z(t,"path",{fill:!0,d:!0}),N(e).forEach(h),this.h()},h(){w(e,"fill","var(--color-err)"),w(e,"d",he)},m(t,n){B(t,e,n)},p:q,d(t){t&&h(e)}}}function we(s){let e,t,n,a,l;const i=[de,$e,_e],f=[];function I(r,o){return r[0]==="error"?0:r[0]==="warning"?1:r[0]==="info"?2:-1}~(t=I(s))&&(n=f[t]=i[t](s));const c=s[1].default,u=le(c,s,s[2],null);return{c(){e=k("p"),n&&n.c(),a=A(),u&&u.c(),this.h()},l(r){e=y(r,"P",{class:!0});var o=N(e);n&&n.l(o),a=F(o),u&&u.l(o),o.forEach(h),this.h()},h(){w(e,"class","svelte-l67a9l"),j(e,"error",s[0]==="error"),j(e,"warning",s[0]==="warning"),j(e,"info",s[0]==="info")},m(r,o){B(r,e,o),~t&&f[t].m(e,null),v(e,a),u&&u.m(e,null),l=!0},p(r,[o]){let d=t;t=I(r),t===d?~t&&f[t].p(r,o):(n&&(K(),$(f[d],1,1,()=>{f[d]=null}),Q()),~t?(n=f[t],n?n.p(r,o):(n=f[t]=i[t](r),n.c()),_(n,1),n.m(e,a)):n=null),u&&u.p&&(!l||o&4)&&re(u,c,r,r[2],l?oe(c,r[2],o,null):ie(r[2]),null),(!l||o&1)&&j(e,"error",r[0]==="error"),(!l||o&1)&&j(e,"warning",r[0]==="warning"),(!l||o&1)&&j(e,"info",r[0]==="info")},i(r){l||(_(n),_(u,r),l=!0)},o(r){$(n),$(u,r),l=!1},d(r){r&&h(e),~t&&f[t].d(),u&&u.d(r)}}}const b="1.6rem";function Ie(s,e,t){let{$$slots:n={},$$scope:a}=e,{type:l="info"}=e;return s.$$set=i=>{"type"in i&&t(0,l=i.type),"$$scope"in i&&t(2,a=i.$$scope)},[l,n,a]}class se extends G{constructor(e){super(),J(this,e,Ie,we,L,{type:0})}}var Be=Object.defineProperty,ke=(s,e,t)=>e in s?Be(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,ne=(s,e,t)=>(ke(s,typeof e!="symbol"?e+"":e,t),t);class W{constructor(e,t=0){ne(this,"value"),ne(this,"defaultFormatOptions"),this._decimals=t,typeof e=="string"?this.value=BigInt(e):typeof e=="bigint"?this.value=e:this.value=BigInt(0),this.defaultFormatOptions={maximumSignificantDigits:6,minimumFractionDigits:0,maximumFractionDigits:Math.min(this._decimals,20)}}get decimals(){return this._decimals}set decimals(e){this._decimals=e}clone(){return new W(this.value,this.decimals)}add(e){const t=this.decimals-e.decimals;let n;t>0?n=e.value*BigInt(10)**BigInt(t):t<0?n=e.value/BigInt(10)**BigInt(-t):n=e.value;const a=this.clone();return a.value+=n,a}sub(e){const t=this.decimals-e.decimals;let n;t>0?n=e.value*BigInt(10)**BigInt(t):t<0?n=e.value/BigInt(10)**BigInt(-t):n=e.value;const a=this.clone();return a.value-=n,a}mul(e){const t=this.clone();return t.value*=e.value,t.value/=BigInt(10)**BigInt(e.decimals),t}div(e){const t=this.decimals-e.decimals;let n;t>0?n=e.value*BigInt(10)**BigInt(t):t<0?n=e.value/BigInt(10)**BigInt(-t):n=e.value;const a=this.clone();return a.value*=BigInt(10)**BigInt(this.decimals),a.value/=n,a}format(e){return new Intl.NumberFormat("en-US",Object.assign({},this.defaultFormatOptions,e??{})).format(this.formatNumber())}formatNumber(){const e=this.value<0;let t=this.value.toString();e&&(t=t.substring(1));const n=t.length-this.decimals;return n>=0?t=t.slice(0,n)+"."+t.slice(n):t="."+"0".repeat(-n)+t,t=t.replace(/0+$/,"").replace(/^0+/,""),t==="."?t="0":t.startsWith(".")?t="0"+t:t.endsWith(".")&&(t=t.slice(0,-1)),(e?"-":"")+t}toNumber(){return Number(this.value)/10**this.decimals}toString(){return this.format()}toBigInt(){return this.value}toU128(){return this.value.toString()}valueOf(){return this.value}}var ye={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function ae(s){let e,t;return e=new se({props:{type:"warning",$$slots:{default:[Ne]},$$scope:{ctx:s}}}),{c(){S(e.$$.fragment)},l(n){C(e.$$.fragment,n)},m(n,a){E(e,n,a),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Ne(s){let e;return{c(){e=R(`Your Near balance is low! Please top up your Near balance to not run out
      of gas.`)},l(t){e=U(t,`Your Near balance is low! Please top up your Near balance to not run out
      of gas.`)},m(t,n){B(t,e,n)},d(t){t&&h(e)}}}function Se(s){let e,t,n="Connected account:",a,l,i=s[0].accountId+"",f,I,c,u,r="Near balance:",o,d,x=(s[1]?s[1].format():"-")+"",V,M,T=s[1]!=null&&s[1].toNumber()<.5,O,m=T&&ae(s);return{c(){e=k("div"),t=k("span"),t.textContent=n,a=A(),l=k("span"),f=R(i),I=A(),c=k("div"),u=k("span"),u.textContent=r,o=A(),d=k("span"),V=R(x),M=A(),m&&m.c(),this.h()},l(p){e=y(p,"DIV",{class:!0});var g=N(e);t=y(g,"SPAN",{"data-svelte-h":!0}),H(t)!=="svelte-fsvay8"&&(t.textContent=n),a=F(g),l=y(g,"SPAN",{});var Z=N(l);f=U(Z,i),Z.forEach(h),g.forEach(h),I=F(p),c=y(p,"DIV",{class:!0});var D=N(c);u=y(D,"SPAN",{"data-svelte-h":!0}),H(u)!=="svelte-1syjy1u"&&(u.textContent=r),o=F(D),d=y(D,"SPAN",{});var ee=N(d);V=U(ee,x),ee.forEach(h),M=F(D),m&&m.l(D),D.forEach(h),this.h()},h(){w(e,"class","section-field"),w(c,"class","section-field")},m(p,g){B(p,e,g),v(e,t),v(e,a),v(e,l),v(l,f),B(p,I,g),B(p,c,g),v(c,u),v(c,o),v(c,d),v(d,V),v(c,M),m&&m.m(c,null),O=!0},p(p,[g]){(!O||g&1)&&i!==(i=p[0].accountId+"")&&te(f,i),(!O||g&2)&&x!==(x=(p[1]?p[1].format():"-")+"")&&te(V,x),g&2&&(T=p[1]!=null&&p[1].toNumber()<.5),T?m?g&2&&_(m,1):(m=ae(p),m.c(),_(m,1),m.m(c,null)):m&&(K(),$(m,1,1,()=>{m=null}),Q())},i(p){O||(_(m),O=!0)},o(p){$(m),O=!1},d(p){p&&(h(e),h(I),h(c)),m&&m.d()}}}function Ce(s,e,t){let{account:n}=e,a;l();async function l(){const f=await(await fetch(ye.VITE_NODE_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:"dontcare",method:"query",params:{request_type:"view_account",finality:"final",account_id:n.accountId}})})).json();f.result&&t(1,a=new W(f.result.amount,24).sub(new W(f.result.locked,24)))}return s.$$set=i=>{"account"in i&&t(0,n=i.account)},[n,a]}class Ee extends G{constructor(e){super(),J(this,e,Ce,Se,L,{account:0})}}function Pe(s){let e,t;return e=new se({props:{type:"info",$$slots:{default:[je]},$$scope:{ctx:s}}}),{c(){S(e.$$.fragment)},l(n){C(e.$$.fragment,n)},m(n,a){E(e,n,a),t=!0},p(n,a){const l={};a&2&&(l.$$scope={dirty:a,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Oe(s){let e,t;return e=new pe({props:{inline:!0}}),{c(){S(e.$$.fragment)},l(n){C(e.$$.fragment,n)},m(n,a){E(e,n,a),t=!0},p:q,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function De(s){let e,t;return e=new Ee({props:{account:s[0]}}),{c(){S(e.$$.fragment)},l(n){C(e.$$.fragment,n)},m(n,a){E(e,n,a),t=!0},p(n,a){const l={};a&1&&(l.account=n[0]),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function je(s){let e;return{c(){e=R("Please log in!")},l(t){e=U(t,"Please log in!")},m(t,n){B(t,e,n)},d(t){t&&h(e)}}}function Ae(s){let e,t,n="Wallet",a,l,i,f;const I=[De,Oe,Pe],c=[];function u(r,o){return r[0]?0:r[0]===void 0?1:2}return l=u(s),i=c[l]=I[l](s),{c(){e=k("div"),t=k("h2"),t.textContent=n,a=A(),i.c(),this.h()},l(r){e=y(r,"DIV",{class:!0});var o=N(e);t=y(o,"H2",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-14vu7n3"&&(t.textContent=n),a=F(o),i.l(o),o.forEach(h),this.h()},h(){w(t,"class","svelte-nil46c"),w(e,"class","page svelte-nil46c")},m(r,o){B(r,e,o),v(e,t),v(e,a),c[l].m(e,null),f=!0},p(r,[o]){let d=l;l=u(r),l===d?c[l].p(r,o):(K(),$(c[d],1,1,()=>{c[d]=null}),Q(),i=c[l],i?i.p(r,o):(i=c[l]=I[l](r),i.c()),_(i,1),i.m(e,null))},i(r){f||(_(i),f=!0)},o(r){$(i),f=!1},d(r){r&&h(e),c[l].d()}}}function Fe(s,e,t){let n;return ce(s,ue,a=>t(0,n=a)),[n]}class We extends G{constructor(e){super(),J(this,e,Fe,Ae,L,{})}}export{We as component};
